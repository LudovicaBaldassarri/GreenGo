<div id="page">
    <!--SPAZIO RICERCA-->
    <div class="jumbotron" align="center">
        <div class="panel-body"></div>

        <div class="row">
        <div class="col-sm-10">
        <input  id="Search" type="text" class="form-control" ng-model="ricetteSearch" placeholder="Cerca per ingrediente...">
        </div>
        <div class="col-xs-2"><button class="btn btn-success" ng-click="setRicerca()"> Cerca </button></div>
        </div>
        <div class="row">
        <div class="col-xs-4">
            <h5>Categoria</h5>
            <select class="form-control" id="categoriaRic" style="max-width: 150px" ng-model="categoriaSearch">
                <option></option>
                <option>Antipasti</option>
                <option>Primi</option>
                <option>Secondi</option>
                <option>Dolci</option>
                <option>Bevande</option>
            </select>
        </div>
        <div class="col-xs-4">
        <h5>Difficolt√†</h5>
        <select class="form-control" id="difRic" style="max-width: 150px" ng-model="difficoltaSearch">
            <option>Facile</option>
            <option>Medio</option>
            <option>Difficile</option>
        </select>
        </div>
        <div class="col-xs-4">
        <h5>Dieta</h5>
        <select class="form-control" id="dieta" style="max-width: 150px" ng-model="dietaSearch">
            <option></option>
            <option>Vegetariana</option>
            <option>Vegana</option>
            <option>Senza Glutine</option>
            <option>Senza derivati del Latte</option>
        </select>
        </div>
        </div>

        <!--<input id="Search2" type="text" class="form-control" ng-model="ricetteSearch.$" placeholder="">-->

    </div>

    <script>
        function myFunction() {
            var input, filter, ul, li, a, i;
            input = document.getElementById("myInput");
            filter = input.value.toUpperCase();
            ul = document.getElementById("myUL");
            li = ul.getElementsByTagName("li");
            for (i = 0; i < li.length; i++) {
                a = li[i].getElementsByTagName("a")[0];
                if (a.innerHTML.toUpperCase().indexOf(filter) > -1) {
                    li[i].style.display = "";
                } else {
                    li[i].style.display = "none";
                }
            }
        }
    </script>

    <!--SPAZIO INGREDIENTI/FILTRI AGGIUNTI-->
    <div class="container">
        <!--CHE POI SARANNO UNA LISTA STI BOTTONI-->
        <button class="btn btn-default" ng-if="ricerca && ricetteSearch !=''" ng-click="deleteIngrediente()">
            <span class="glyphicon glyphicon-remove"></span>  {{ricetteSearch}} </button>
        <button class="btn btn-default" ng-if="ricerca && categoriaSearch != ''" ng-click="deleteCategoria()">
            <span class="glyphicon glyphicon-remove"></span>  {{categoriaSearch}}</button>
        <button class="btn btn-default" ng-if="ricerca && dietaSearch != ''" ng-click="deleteDieta()">
            <span class="glyphicon glyphicon-remove"></span>  {{dietaSearch}}</button>
        <button class="btn btn-default" ng-if="ricerca && difficoltaSearch != ''" ng-click="deleteDifficolta()">
            <span class="glyphicon glyphicon-remove"></span>  {{difficoltaSearch}}</button>
        <button class="btn btn-danger" ng-click="cancellaTutto()">Cancella tutto</button>
    </div><br><br>

    <!--SPAZIO RICETTE TROVATE-->
    <div class="container">
        <div class="row">
            <ul class="media-list">
                <li ng-repeat="post in dati.posts | filter:ricetteSearch| filter:{difficolta:difficoltaSearch, categoria:categoriaSearch, dieta:dietaSearch}  " ng-if="post.tag === 'ricetta'" >

                    <div class="col-md-4">
                        <div class="panel panel-success">
                            <div class="panel-heading"><a href="#!/detailsRicetta/{{post.id}}">{{post.titolo}}</a>
                            </div>
                            <div class="panel-body">
                                <img style="width:100%" height="200px" alt="Image"
                                     ng-src="{{post.img_url}}" alt="{{post.img_alt}}" ng-if="post.img_url.includes('https://firebasestorage.googleapis.com')">
                            </div>
                            <div class="panel-footer">
                                <p>
                                    <a href="#!/otherUserProfile/{{post.autoreId}}" ng-if="dati.userId != post.autoreId"><span style="color: green">{{post.name}} {{post.surname}}</span></a>
                                    <a href="#!/userProfile" ng-if="dati.userId == post.autoreId"><span style="color: green">{{post.name}} {{post.surname}}</span></a><br>
                                <!--{{post.descrizione}}-->
                                </p>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>

        </div>
    </div>

</div>





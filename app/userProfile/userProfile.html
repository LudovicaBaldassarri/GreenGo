<div class="container-fluid" id="page" style="margin-left: 5%; margin-right: 5%; width: 90%">
  <div class="row">
    <!--SPAZIO UTENTE-->
    <div class="col-md-3 ">
      <div class="panel panel-default" align="center">
        <div class="panel-body">
          <div>
            <img class="img-circle" width="200" height="200"
                 ng-src="{{dati.user.img_url}}" alt="{{dati.user.img_alt}}" ng-if="dati.user.img_url.includes('https://firebasestorage.googleapis.com')">
            <br><br><button type="button" class="btn btn-default"
                        data-toggle="modal" data-target="#modalAddImmagine">Aggiorna immagine profilo</button><hr>
          </div>

          <!--BOTTONI PRODUTTORE-->
          <button id="button2"  ng-if="dati.user.tipo == ''" data-toggle="modal" data-target="#modalProduttore" class="btn btn-success">Diventa Produttore</button>
          <button id="button1" ng-if="dati.user.tipo == 'produttore'" class="btn btn-default"><a href="#!/paginaProduttore">Vai alla tua pagina Produttore</a></button>
            <hr>

            <!--SPAZIO FOLLOWERS/FOLLOWING-->
            <p><b><a style="color: green" data-toggle="modal" data-target="#followers">Followers</a></b> /
                <b><a style="color: green" data-toggle="modal" data-target="#following">Following</a></b></p>
           <hr>


        <div style="padding: 10px">
          <p><span class="coloreTestoVerde">Data di nascita: </span>{{dati.user.dataNascita}}</p>
          <p><span class="coloreTestoVerde">Vive a: </span>{{dati.user.cittaVive}}</p>
          <p><span class="coloreTestoVerde">Dice di sè: </span>{{dati.user.descPersonale}}</p>
          <button type="button3" class="btn btn-default" data-toggle="modal" data-target="#modalUpdateInfo">Modifica Informazioni</button>
        </div><br>

        </div>
      </div>
    </div>

    <!--SPAZIO POST-->
    <div class="col-sm-6" ng-if="dati.area== 'profilo'">

      <div class="row">
        <div class="col-sm-12">
          <div class="panel panel-default text-left">
            <div class="panel-body" >
              <h1>{{dati.user.name}} {{dati.user.surname}}</h1>
                <!--<span style="float: right"><img src="../images/avocadino.png" height="70px"></span>-->
            </div>
          </div>
            <!--INSERIMENTO POST-->
            <div class="panel panel-default" id="postP">
                <div class="panel-body">
                    <div class="media-left">
                        <img class="img-circle" alt="immagine" width="50" height="50"
                             ng-src="{{dati.user.img_url}}" alt="{{dati.user.img_url}}" ng-if="dati.user.img_url.includes('https://firebasestorage.googleapis.com')">
                    </div>
                    <div class="media-body">
                        <a href="#!/userProfile" style="color: grey; text-decoration: none" data-toggle="modal" data-target="#modalPostP">Scrivi qualcosa...</a>
                    </div>
                </div>
                <div class="panel-footer">
                    <button type="button" class="btn btn-success" href="#!/userProfile"
                            data-toggle="modal" data-target="#modalRicettaP"ng-click="setTagP('ricetta');">Ricetta</button>
                    <button type="button" class="btn btn-success" href="#!/userProfile"
                            data-toggle="modal" data-target="#modalTutorialP" ng-click="setTagP('tutorial');">Tutorial</button>
                </div>
            </div>
            <!-- MODAL POST -->
            <div class="modal fade" id="modalPostP" role="dialog">
                <form id="frmAddPost" role="form" ng-submit="addPostP()">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" data-target="#modalPostP">&times;</button>
                                <h3>Insersci un post</h3>
                            </div>
                            <div class="modal-body">
                                <div class="form-group">
                                    <div class="media-left">
                                        <img class="img-circle" alt="immagine" width="50" height="50"
                                             ng-src="{{dati.user.img_url}}" alt="{{dati.user.img_url}}" ng-if="dati.user.img_url.includes('https://firebasestorage.googleapis.com')">
                                    </div>
                                    <div class="media-body">
                                    <textarea type = "text" class="form-control" nome="descrizione" rows="4" id="desc" placeholder="Scrivi qualcosa..."
                                              ng-model="dati.descrizione"></textarea>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-success" href="#!/userProfile"
                                        data-toggle="modal" data-target="#modalRicettaP" ng-click="setTagP('ricetta');">Ricetta</button>
                                <button type="button" class="btn btn-success" href="#!/userProfile"
                                        data-toggle="modal" data-target="#modalTutorialP" ng-click="setTagP('tutorial');">Tutorial</button>
                                <button type="submit" style="float: right;" class="btn btn-default">Pubblica</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <!-- MODAL POST RICETTA-->
            <div ng-controller="userProfileCtrl as $ctrl">
                <div class="modal fade post" id="modalRicettaP" role="dialog">
                    <div class="modal-dialog modal-lg" style="width: 850px">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" data-target="#modalPostP">&times;</button>
                                <h1>Insersci la tua Ricetta</h1>
                            </div>
                            <form ng-submit="addPostP()">
                                <div class="form-group">
                                    <h3>Titolo:</h3>
                                    <input type="text" class="form-control" id="title"
                                           ng-model="dati.titolo" />
                                    <textarea class="form-control" rows="4" id="comment3" placeholder="Descrizione..."
                                              ng-model="dati.descrizione"></textarea>
                                </div>


                                <!-- INSERIMENTO INGREDIENTI -->
                                <h4 style="padding-top: 25px">Inserisci Ingredienti:</h4>
                                <div class="wrapper">
                                    <div class="controls" id="ing1">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field1"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente1"/>
                                     <span class="input-group-btn">
                                       <button id="btn1" class="btn btn-success btn-add" type="button" ng-click="addIng2()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing2" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field2"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente2"/>
                                     <span class="input-group-btn">
                                       <button id="btn2" class="btn btn-success btn-add" type="button" ng-click="addIng3()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing3" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field3"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente3"/>
                                     <span class="input-group-btn">
                                       <button id="btn3" class="btn btn-success btn-add" type="button" ng-click="addIng4()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing4" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field4"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente4"/>
                                     <span class="input-group-btn">
                                       <button id="btn4" class="btn btn-success btn-add" type="button" ng-click="addIng5()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing5" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field5"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente5"/>
                                     <span class="input-group-btn">
                                       <button id="btn5" class="btn btn-success btn-add" type="button" ng-click="addIng6()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing6" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field6"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente6"/>
                                     <span class="input-group-btn">
                                       <button id="btn6" class="btn btn-success btn-add" type="button" ng-click="addIng7()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing7" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field7"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente7"/>
                                     <span class="input-group-btn">
                                       <button id="btn7" class="btn btn-success btn-add" type="button" ng-click="addIng8()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing8" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field8"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente8"/>
                                     <span class="input-group-btn">
                                       <button id="btn8" class="btn btn-success btn-add" type="button" ng-click="addIng9()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing9" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field9"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente9"/>
                                     <span class="input-group-btn">
                                       <button id="btn9" class="btn btn-success btn-add" type="button" ng-click="addIng10()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ing10" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field10"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.ingrediente10"/>
                                     <span class="input-group-btn">
                                       <button id="btn10" class="btn btn-default btn-add" type="button">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                </div>

                                <!--     FINE INSERIMENTO INGREDIENTI    -->




                                <h4>Procedimento:</h4>
                                <textarea class="form-control" rows="7" id="procRic"
                                          ng-model="dati.procedimento"></textarea>
                                <hr>

                                <div class="wrapper">
                                    <div>
                                        <h4>Categoria</h4>
                                        <select class="form-control" id="categoriaRic" style="max-width: 150px" ng-model="dati.categoria">
                                            <option></option>
                                            <option>Antipasti</option>
                                            <option>Primi</option>
                                            <option>Secondi</option>
                                            <option>Dolci</option>
                                            <option>Bevande</option>
                                        </select>
                                    </div>
                                    <div>
                                        <h4>Difficoltà</h4>
                                        <select class="form-control" id="difRic" style="max-width: 150px" ng-model="dati.difficolta">
                                            <option>Facile</option>
                                            <option>Medio</option>
                                            <option>Difficile</option>
                                        </select>
                                    </div>

                                    <div>
                                        <h4 style="padding-top: 10px; display: block">Tempo preparazione:</h4>
                                        <input type="text" class="form-control" id="tmp1"  style="max-width: 110px"
                                               placeholder="hh:mm" ng-model="dati.tempoP">
                                    </div>

                                    <div>
                                        <h4 style="padding-top: 10px; display: block">Tempo cottura:</h4>
                                        <input type="text" class="form-control" id="tmp2"  style="max-width: 110px"
                                               placeholder="hh:mm" ng-model="dati.tempoC">
                                    </div>
                                </div>
                                <hr>

                                <div class="wrapper">
                                    <!--BOTTONE PER CARICAMENTO DI FILE-->
                                    <!--<img ng-src="{{post.img_url}}" alt="{{post.img_alt}}" ng-if="post.img_url.includes('https://firebasestorage.googleapis.com')"-->
                                    <div>
                                        <h4>Immagine descrittiva</h4>
                                        <file-upload on-change="$ctrl.onChange">
                                        </file-upload>
                                    </div>

                                    <div>
                                        <h4>Dieta</h4>
                                        <div class="checkbox">
                                            <label><input type="checkbox" ng-model="dati.veggi" value="">
                                                Vegetariana</label>
                                        </div>
                                        <div class="checkbox">
                                            <label><input type="checkbox" ng-model="dati.vegan" value="">
                                                Vegana</label>
                                        </div>
                                        <div class="checkbox">
                                            <label><input type="checkbox" ng-model="dati.glutenfree" value="">
                                                Senza Glutine</label>
                                        </div>
                                    </div>

                                </div>


                                <div class="modal-footer">
                                    <button href="#home" style="...";
                                            type="submit" class="btn btn-default">Pubblica</button>
                                </div>

                            </form>

                        </div>
                    </div>
                </div>  <!--    chiude il modal RICETTA     -->

                <!--   MODAL POST TUTORIAL  -->

                <div class="modal fade post" id="modalTutorialP" role="dialog">
                    <div class="modal-dialog modal-lg" style="width: 850px">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">&times;</button>
                                <h1>Insersci il tuo Tutorial</h1>
                            </div>

                            <form ng-submit="addPostP()">
                                <div class="form-group">
                                    <h3>Titolo:</h3>
                                    <input type="text" class="form-control" id="titolo"
                                           ng-model="dati.titolo">
                                    <textarea class="form-control" rows="6" id="comment2" placeholder="Descrizione..."
                                              ng-model="dati.descrizione"></textarea>
                                </div>


                                <!-- INSERIMENTO STRUMENTI -->
                                <h4>Materiale Necessario:</h4>
                                <div class="wrapper">
                                    <div class="controls">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="f1"
                                              type="text" placeholder="Aggiungi Oggetto"
                                              ng-model="dati.strumento1"/>
                                     <span class="input-group-btn">
                                       <button id="button11" class="btn btn-success btn-add" type="button" ng-click="addOgg2()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg2" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="f2"
                                              type="text" placeholder="Aggiungi Oggetto"
                                              ng-model="dati.strumento2"/>
                                     <span class="input-group-btn">
                                       <button id="button22" class="btn btn-success btn-add" type="button" ng-click="addOgg3()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg3" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="f3"
                                              type="text" placeholder="Aggiungi Oggetto"
                                              ng-model="dati.strumento3"/>
                                     <span class="input-group-btn">
                                       <button id="button3" class="btn btn-success btn-add" type="button" ng-click="addOgg4()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg4" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="f4"
                                              type="text" placeholder="Aggiungi Oggetto"
                                              ng-model="dati.strumento4"/>
                                     <span class="input-group-btn">
                                       <button id="button4" class="btn btn-success btn-add" type="button" ng-click="addOgg5()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg5" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="f5"
                                              type="text" placeholder="Aggiungi Oggetto"
                                              ng-model="dati.strumento5"/>
                                     <span class="input-group-btn">
                                       <button id="button5" class="btn btn-success btn-add" type="button" ng-click="addOgg6()">
                                            <span  class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg6" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field6"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.oggetto6"/>
                                     <span class="input-group-btn">
                                       <button id="button6"class="btn btn-success btn-add" type="button" ng-click="addOgg7()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg7" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field7"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.oggetto7"/>
                                     <span class="input-group-btn">
                                       <button id="button7" class="btn btn-success btn-add" type="button" ng-click="addOgg8()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg8" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field8"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.oggetto8"/>
                                     <span class="input-group-btn">
                                       <button id="button8" class="btn btn-success btn-add" type="button" ng-click="addOgg9()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                    <div class="controls" id="ogg9" style="display: none">
                                <span role="form" autocomplete="off">
                                   <div class="entry input-group col-xs-3">
                                       <input class="form-control" style="width: 200px" name="field9"
                                              type="text" placeholder="Aggiungi Ingrediente"
                                              ng-model="dati.oggetto9"/>
                                     <span class="input-group-btn">
                                       <button id="button9" class="btn btn-success btn-add" type="button" ng-click="addOgg10()">
                                            <span class="glyphicon glyphicon-plus" style="color: white"></span>
                                       </button>
                                     </span>
                                   </div>
                                </span>
                                    </div>
                                </div>

                                <h4>Procedimento:</h4>
                                <textarea class="form-control" rows="7" id="prcdTut"
                                          ng-model="dati.procedimento"></textarea>
                                <div class="wrapper">
                                    <div>
                                        <h4 style="margin-top: 20px">Categoria: </h4>
                                        <select class="form-control" id="catTut" style="max-width: 140px;"
                                                ng-model="dati.categoria">
                                            <option>Riutilizzo</option>
                                            <option>Cucina</option>
                                            <option>Cura del corpo</option>
                                        </select>
                                    </div>

                                    <div>
                                        <h4 style="margin-top: 20px">Difficoltà: </h4>
                                        <select class="form-control" id="difTut" style="max-width: 140px;"
                                                ng-model="dati.difficolta">
                                            <option>Facile</option>
                                            <option>Medio</option>
                                            <option>Difficile</option>
                                        </select>
                                    </div>

                                    <div>
                                        <h4>Immagine descrittiva</h4>
                                        <file-upload on-change="$ctrl.onChange">
                                        </file-upload>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button href="#!/userProfile" style="float: right;"
                                            type="submit" class="btn btn-default">Pubblica</button>
                                </div>


                            </form>
                        </div>
                    </div>


                </div>  <!--    chiude il modal TUTORIAL     -->

            </div>   <!-- chiude l' ng-controller homeCtrl   -->

            <!-- fine modal -->

        </div>
      </div>

      <div class="row" >
        <div class="col-md-12">
          <ul class="media-list">
            <!--area profilo-->
            <li class="media" ng-repeat="post in dati.posts| orderBy: '-date' :true" ng-if="  dati.userId == post.autoreId">
                  <div class="media-left">
                    <!--QUI METTEREI L'IMMAGINE DEL PROFILO-->
                    <img class="img-circle" alt="immagine" width="50" height="50"
                         ng-src="{{post.autore_img}}" alt="{{post.autore_img}}" ng-if="post.autore_img.includes('https://firebasestorage.googleapis.com')">
                  </div>
                <div class="media-body">
                  <h4><strong>{{post.name}} {{post.surname}}</strong> ha pubblicato:</h4>
                  <p class="data-ora">{{post.dataStampa}} {{post.oraStampa}} </p>

                  <a ng-if="post.tag == 'ricetta'" href="#!/detailsRicetta/{{post.id}}" style="color: darkgreen">
                    <h4 class="media-heading"><strong>{{post.titolo}}</strong></h4></a>
                  <a ng-if="post.tag == 'tutorial'" href="#!/detailsTutorial/{{post.id}}" style="color: darkgreen">
                    <h4 class="media-heading"><strong>{{post.titolo}}</strong></h4></a>

                    <img class="media-object" ng-src="{{post.img_url}}" ng-alt="{{post.img_alt}}" width="70%">
                  <a href=""><h4 class="media-heading"><strong>{{post.nome_post}}</strong></h4></a>
                    <p>{{post.descrizione}}</p>

                  <!-- CANCELLA POST --->
                  <button class="btn btn-default btn-sm"
                          ng-click="removePost(post.id)"ng-if="dati.userId == post.autoreId">Rimuovi Post</button>

                </div>
                <hr/>
            </li>
          </ul>
        </div>
      </div>
    </div>
<!--AREA RICETTARIO-->
      <div class="col-sm-6" ng-if="dati.area== 'ricettario'">
          <div class="row">
              <div class="col-sm-12">
                  <div class="panel panel-default text-left">
                      <div class="panel-body" >
                          <h1>{{dati.user.name}} {{dati.user.surname}}</h1>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-12"><h3>Le mie ricette</h3><hr></div>
              <ul class="media-list">
                  <li ng-repeat="post in dati.posts| orderBy: '-date' :true" ng-if="dati.userId == post.autoreId && post.tag=='ricetta'">
                      <div class="col-md-4">
                          <div class="panel panel-default" style="height: 200px">
                              <div class="panel-heading"><a href="#!/detailsRicetta/{{post.id}}">{{post.titolo}}</a></div>
                              <div class="panel-body">
                                <img style="width:100%" height="100px" alt="Image" ng-src="{{post.img_url}}" alt="{{post.img_alt}}"
                                     ng-if="post.img_url.includes('https://firebasestorage.googleapis.com')">
                              </div>
                          </div>
                      </div>
                  </li>
              </ul>
          </div>
          <div class="row">
              <div class="col-md-12"><h3>Ricette salvate</h3><hr></div>
              <ul class="media-list">
                  <li ng-repeat="savers in dati.savers| orderBy: '-date' :true" ng-if="savers.saver == dati.userId && savers.postId.tag=='ricetta'">
                      <div class="col-md-4">
                          <div class="panel panel-default" style="height: 250px">
                              <div class="panel-heading"><a href="#!/detailsRicetta/{{savers.postId.id}}">{{savers.postId.titolo}}</a></div>
                              <div class="panel-body">
                                  <img style="width:100%" height="100px" alt="Image" ng-src="{{savers.postId.img_url}}" alt="{{savers.postId.img_alt}}"
                                       ng-if="savers.postId.img_url.includes('https://firebasestorage.googleapis.com')">
                              </div>
                          </div>
                      </div>
                  </li>
              </ul>
          </div>
      </div>
      <!--AREA TUTORIAL-->
      <div class="col-sm-6" ng-if="dati.area== 'tutorial'">
          <div class="row">
              <div class="col-sm-12">
                  <div class="panel panel-default text-left">
                      <div class="panel-body" >
                          <h1>{{dati.user.name}} {{dati.user.surname}}</h1>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-12"><h3>I miei tutorial</h3><hr></div>
              <ul class="media-list">
                  <li ng-repeat="post in dati.posts| orderBy: '-date' :true" ng-if="dati.userId == post.autoreId && post.tag=='tutorial'">
                      <div class="col-md-4">
                          <div class="panel panel-default" style="height: 190px">
                              <div class="panel-heading"><a href="#!/detailsTutorial/{{post.id}}">{{post.titolo}}</a></div>
                              <div class="panel-body">
                                  <img style="width:100%" height="100px" alt="Image" ng-src="{{post.img_url}}" alt="{{post.img_alt}}"
                                       ng-if="post.img_url.includes('https://firebasestorage.googleapis.com')">
                              </div>
                          </div>
                      </div>
                  </li>
              </ul>
          </div>
          <div class="row">
              <div class="col-md-12"><h3>Tutorial salvati</h3><hr></div>
              <ul class="media-list">
                  <li ng-repeat="savers in dati.savers| orderBy: '-date' :true" ng-if="savers.saver == dati.userId && savers.postId.tag=='tutorial'">
                      <div class="col-md-4">
                          <div class="panel panel-default" style="height: 190px">
                              <div class="panel-heading"><a href="#!/detailsTutorial/{{savers.postId.id}}">{{savers.postId.titolo}}</a></div>
                              <div class="panel-body">
                                  <img style="width:100%" height="100px" alt="Image" ng-src="{{savers.postId.img_url}}" alt="{{savers.postId.img_alt}}"
                                       ng-if="savers.postId.img_url.includes('https://firebasestorage.googleapis.com')">
                              </div>
                          </div>
                      </div>
                  </li>
              </ul>
          </div>
      </div>
      <!--AREA MEDAGLIE-->
      <div class="col-sm-6" ng-if="dati.area== 'medaglie'">
          <div class="row">
              <div class="col-sm-12">
                  <div class="panel panel-default text-left">
                      <div class="panel-body" >
                          <h1>{{dati.user.name}} {{dati.user.surname}}</h1>
                      </div>
                  </div>
              </div>
          </div>
          <div class="row">
              <div class="col-md-12"><h3>Le mie medaglie</h3><hr></div>
              <!--<ul class="media-list">-->
                  <!--<li ng-repeat="post in dati.posts| orderBy: '-date' :true" ng-if="dati.userId == post.autoreId && post.tag=='tutorial'">-->
                      <!--<div class="col-md-4">-->
                          <!--<div class="panel panel-default" style="height: 190px">-->
                              <!--<div class="panel-heading"><a href="#!/detailsTutorial/{{post.id}}">{{post.titolo}}</a></div>-->
                              <!--<div class="panel-body">-->
                                  <!--<img style="width:100%" height="100px" alt="Image" ng-src="{{post.img_url}}" alt="{{post.img_alt}}"-->
                                       <!--ng-if="post.img_url.includes('https://firebasestorage.googleapis.com')">-->
                              <!--</div>-->
                          <!--</div>-->
                      <!--</div>-->
                  <!--</li>-->
              <!--</ul>-->
          </div>
      </div>

      <!--MENU LATO-->
   <div class="col-md-3 ">
      <div class="panel panel-default" align="center" >
        <div class="panel-body">
          <button class="btn btn-success" ng-click="goToRicettario()" style="width: 100%">
            <span><img src="../images/ricettario.png" height="30px" style="float: right"></span>Ricettario
          </button>
          <br><br>
          <button class="btn btn-success" ng-click="goToTutorial()" style="width: 100%">
            <span><img src="../images/tutorialCont.png" height="30px" style="float: left"></span>Contenitore Tutorial
          </button>
          <br><br>
          <button class="btn btn-success" ng-click="goToMedaglie()" style="width: 100%">
            <span><img src="../images/medaglie.png" height="30px" style="float: right"></span>Le mie medaglie
          </button>
          <br><br>
          <button class="btn btn-default" ng-click="goToProfilo()" style="width: 100%">Torna a Profilo</button>
        </div>
      </div>
    </div>


  <!--MODAL DIVENTA PRODUTTORE-->
  <div ng-controller="userProfileCtrl as $ctrl">
  <div class="modal fade" id="modalProduttore" role="dialog">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Diventa Produttore!</h4>
        </div>
        <div class="modal-body">
          <p>Vuoi diventare produttore? Compila questo form per mostrare le informazioni che desideri!</p>
          <form id="frmProduttore" role="form" ng-submit="updateInfoProduttore()">

            <div class="form-group">
              <label for="txtNome">Nome</label>
              <input class="form-control" id="txtNome" placeholder="Inserisci il nome con cui vuoi essere visualizzato da Produttore" ng-model="dati.nomeProduttore" />
            </div>
            <div class="form-group">
              <label for="txtCitta">Città</label>
              <input class="form-control" id="txtCitta" placeholder="Città" ng-model="dati.citta" />
            </div>
            <div class="form-group">
              <label for="txtPres">Descrizione</label>
              <input class="form-control" id="txtPres" placeholder="Fai una breve descrizione della tua attività" name="password" ng-model="dati.descrizione" />
            </div>
              <h4 class="modal-title">Aggiungi un'immagine per la tua attività da produttore! </h4>
                   <file-upload on-change="$ctrl.onChange"> </file-upload>
            <div class="form-group" align="center">
              <button href="#!/paginaProduttore" class="btn btn-success" type="submit">Diventa Produttore</button>
            </div>
            <button class="btn btn-default" data-dismiss="modal" style="float: right">Close</button><br>
          </form>
        </div>
      </div>

      </div>
    </div>
  </div>

  <!--MODAL MESSAGGIO CONFERMA-->
  <div class="modal fade" id="modalMsg" role="dialog">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Complimenti!</h4>
        </div>
        <div class="modal-body">
          <p>Adesso sei un produttore. Visita la tua pagina Produttore, o torna al tuo profilo.</p>
        </div>
        <div class="modal-footer">
          <a class="btn btn-success" href="#!/paginaProduttore" ng-click="close()" style="float: left">Vai alla pagina produttore</a>
          <button class="btn btn-default" data-dismiss="modal" style="float: right">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!--MODAL ADD IMMGINE-->
  <div ng-controller="userProfileCtrl as $ctrl">
    <div class="modal fade" id="modalAddImmagine" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Aggiorna la tua immagine profilo! </h4>
          </div>
          <form id="frmAddImg" role="form" ng-submit="addImage()">

            <file-upload on-change="$ctrl.onChange"> </file-upload>

            <button class="btn btn-success" type="submit">Add</button>
            <button class="btn btn-default" data-dismiss="modal">Close</button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!--MODIFICA INFO PERSONALI-->
  <div ng-controller="userProfileCtrl as $ctrl">
    <div class="modal fade" id="modalUpdateInfo" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Aggiorna le tue informazioni personali </h4>
          </div>
          <div class="modal-body">
            <form id="frmUpdateInfo" role="form" ng-submit="updateInfoUser()">
              <div class="form-group">
                <label for="txtNome">Data di nascita</label>
                <input ng-if="dati.descPersonale ==''" class="form-control" id="txtDataNascita" placeholder="gg/mm/aaaa" ng-model="dati.dataNascita" />
                <input ng-if="dati.descPersonale !=''" class="form-control" id="txtDataNascita2" placeholder="{{dati.dataNascita}}" ng-model="dati.dataNascita" />
              </div>
              <div class="form-group">
                <label for="txtNome">Città in cui vivi</label>
                <input ng-if="dati.descPersonale ==''" class="form-control" id="txtCittaVive2" placeholder="Città" ng-model="dati.cittaVive" />
                <input ng-if="dati.descPersonale !=''" class="form-control" id="txtCittaVive" placeholder="{{dati.cittaVive}}" ng-model="dati.cittaVive" />
              </div>
              <div class="form-group">
                <label for="txtNome">Come ti descrivi?</label>
                <input ng-if="dati.descPersonale==''" class="form-control" id="txtDescPersonale2" placeholder="Mi piace..." ng-model="dati.descPersonale" />
                <input ng-if="dati.descPersonale !=''" class="form-control" id="txtDescPersonale" placeholder="{{dati.descPersonale}}" ng-model="dati.descPersonale" />
              </div>
            <button class="btn btn-success" type="submit">Salva</button>
            <button class="btn btn-default" data-dismiss="modal">Close</button>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>

      <!--MODAL FOLLOWERS-->
      <div class="modal fade" id="followers" role="dialog">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Followers di {{dati.user.name}}</h4>
                  </div>
                  <div class="modal-body">
                      <li style="list-style: none" ng-repeat="follows in dati.follows" ng-if ="dati.userId == follows.followed">
                          <a href="#!/otherUserProfile/{{follows.follower.id}}" style="color: green" ng-click="closeModalFollowers()">{{follows.follower.name}} {{follows.follower.surname}}</a>
                      </li><br>
                      <button type="button" class="btn btn-default" style="float: right;" data-dismiss="modal">Close</button><br><br>
                  </div>
              </div>
          </div>
      </div>
      <!--MODAL FOLLOWING-->
      <div class="modal fade" id="following" role="dialog">
          <div class="modal-dialog">
              <div class="modal-content">
                  <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal">&times;</button>
                      <h4 class="modal-title">Following di {{dati.user.name}}</h4>
                  </div>
                  <div class="modal-body">
                      <li style="list-style: none" ng-repeat="follows in dati.follows" ng-if="dati.userId==follows.follower.id">
                          <a href="#!/otherUserProfile/{{follows.followed}}" style="color: green" ng-click="closeModalFollowing()">{{follows.followedName}} {{follows.followedSurname}}</a>
                      </li><br>
                      <button type="button" class="btn btn-default" style="float: right;" data-dismiss="modal">Close</button><br><br>
                  </div>
              </div>
          </div>
      </div>

  </div>
</div>